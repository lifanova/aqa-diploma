### Описание задачи

Тестирование возможности покупки тура с помощью 2-х способов:  
1. обычной оплаты по дебетовой карте;  
2. покупки в кредит по данным банковской карты.  



### Автоматизируемые сценарии  

**1. Проверка возможности перехода с карточки тура к оплате по карте**  
Предусловие: открыть в браузере страницу http://localhost:8080 .  
Шаги:   
1. Кликнуть по кнопке "Купить".  

ОР: на экране под карточкой тура откроется форма "Оплата по карте", все поля доступны для ввода данных.  


**2. Проверка возможности перехода с карточки тура к покупке в кредит**  
Предусловие: 
1. Открыть в браузере страницу http://localhost:8080 .  

Шаги:   
1. Кликнуть по кнопке "Купить в кредит".  

ОР: на экране под карточкой тура откроется форма "Кредит по данным карты", все поля доступны для ввода данных.  

**3. Проверка возможности перехода с формы оплаты по карте к форме покупки в кредит и наоборот**  
Предусловие: 
1. открыть в браузере страницу http://localhost:8080 .  

Шаги:   
1. Кликнуть по кнопке "Купить" - откроется форма оплаты по карте.  
2. Не заполняя полей формы, кликнуть по кнопке "Купить в кредит".  

ОР: форма "Оплата по карте" сменится формой "Кредит по данным карты", все поля доступны для ввода данных. 

**4. Успешная оплата по карте**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Ввести в поле "Номер карты" корректный номер по маске ввода (например, 4444 4444 4444 4441).  
2. Ввести в поле "Месяц" номер месяца (от 01 до 12; например, 09).  
3. Ввести в поле "Год" последние 2 цифпы года (например, 22).  
4. Ввести в поле "Владелец" корректное имя на латинице (например, Ivanov Ivan).  
5. Ввести в поле "CVC/CVV" 3-х значный номер (например, 123).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  
ОР: данные успешно уходят на сервер POST-запросом, пользователь видит на экране сообщение об успешной операции: "Успешно. Операция одобрена банком".  

**5. Отправка формы "Оплата по карте"" с незаполненными полями.**
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Не заполняя полей формы, кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: Под каждым из полей появляется сообщение "Поле обязательно для заполнения", запрос на сервер не уходит.  

**6. Успешная покупка в кредит**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить в кредит".  

Шаги:  
1. Ввести в поле "Номер карты" корректный номер по маске ввода (например, 4444 4444 4444 4441).  
2. Ввести в поле "Месяц" номер месяца (от 01 до 12; например, 09).  
3. Ввести в поле "Год" последние 2 цифпы года (например, 22).  
4. Ввести в поле "Владелец" корректное имя на латинице (например, Ivanov Ivan).  
5. Ввести в поле "CVC/CVV" 3-х значный номер (например, 123).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: данные успешно уходят на сервер POST-запросом, пользователь видит на экране сообщение об успешной операции: "Успешно. Операция одобрена банком".  

**7. Отправка формы "Кредит по данным карты" с незаполненными полями.**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить в кредит".  

Шаги:  
1. Не заполняя полей формы, кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: Под каждым из полей появляется сообщение "Поле обязательно для заполнения", запрос на сервер не уходит.  

**8. Проверка поля "Номер карты" (негативный сценарий)**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Ввести в поле "Номер карты" некорректный номер (например, 1234).  
2. Ввести в поле "Месяц" номер месяца (от 01 до 12; например, 09).  
3. Ввести в поле "Год" последние 2 цифпы года (например, 22).  
4. Ввести в поле "Владелец" корректное имя на латинице (например, Ivanov Ivan).  
5. Ввести в поле "CVC/CVV" 3-х значный номер (например, 123).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.

ОР: Под полем "Номер карты" появляется сообщение об ошибке красным цветом "Неверный формат", данные не отправляются.  

**9. Проверка поля "Месяц" (негативный сценарий)**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Ввести в поле "Номер карты" номер (например, 4444 4444 4444 4441).  
2. Ввести в поле "Месяц" некорректный номер месяца (например, 14).  
3. Ввести в поле "Год" последние 2 цифпы года (например, 22).  
4. Ввести в поле "Владелец" корректное имя на латинице (например, Ivanov Ivan).  
5. Ввести в поле "CVC/CVV" 3-х значный номер (например, 123).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: Под полем "Месяц" появляется сообщение об ошибке красным цветом "Неверно указан срок действия карты", данные не отправляются.  

**10. Проверка поля "Год" (негативный сценарий)**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Ввести в поле "Номер карты" номер (например, 4444 4444 4444 4441).  
2. Ввести в поле "Месяц" номер месяца (например, 09).  
3. Ввести в поле "Год" некорректные последние 2 цифпы года (например, 12 или 90).  
4. Ввести в поле "Владелец" корректное имя на латинице (например, Ivanov Ivan).  
5. Ввести в поле "CVC/CVV" 3-х значный номер (например, 123).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: Под полем "Год" появляется сообщение об ошибке красным цветом "Неверно указан срок действия карты" (год больше текущего года) или "Истёк срок действия карты" (год меньше текущего года), данные не отправляются.  


**11. Проверка поля "Владелец" (негативный сценарий)**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Ввести в поле "Номер карты" номер (например, 4444 4444 4444 4441).  
2. Ввести в поле "Месяц" номер месяца (например, 09).  
3. Ввести в поле "Год" последние 2 цифпы года (например, 22).  
4. Ввести в поле "Владелец" некорректное имя на латинице или любое имя на кириллице (например, qq).  
5. Ввести в поле "CVC/CVV" 3-х значный номер (например, 123).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: Под полем "Владелец" появляется сообщение об ошибке красным цветом "Неверное имя" , данные не отправляются.  

**12. Проверка поля "CVC/CVV" (негативный сценарий)**  
Предусловие:  
1. Открыть в браузере страницу http://localhost:8080 .  
2. Кликнуть по кнопке "Купить".  

Шаги:  
1. Ввести в поле "Номер карты" номер (например, 4444 4444 4444 4441).  
2. Ввести в поле "Месяц" номер месяца (например, 09).  
3. Ввести в поле "Год" последние 2 цифпы года (например, 22).  
4. Ввести в поле "Владелец" корректное имя на латинице (например, Ivanov Ivan).  
5. Ввести в поле "CVC/CVV" неверный номер (например, 1).  
6. Кликнуть по кнопке "Продолжить" или нажать клавишу Enter.  

ОР: Под полем "CVC/CVV" появляется сообщение об ошибке красным цветом "Неверный формат" , данные не отправляются.  

### Используемые инструменты

- Windows 8, x64.
- OpenJDK 11.
- Intelij IDEA 2020.3.2 x64 - среда разработки, мощная и удобная IDE для java-разработки с поддержкой всех последних технологий и фреймворков.
- JUnit 5 - java-библиотека для проведения юнит-тестирования.
- Gradle - средство автоматизации сборки проектов, позволяет легко собрать билд со всеми зависимостями, а также генерирует отчеты по тестированию.
- Selenide - инструмент для автоматизации действия пользователя в браузере, ориентированный на удобство и легкость реализации бизнес-логики в автотестах.
- Faker - библиотека, необходимая для генерации рандомных тестовых данных, позволяет не придумывать и не прописывать вручную наборы тестовых данных.
- Rest Assured - java-библиотека для тестирования REST API, позволяет автоматизировать тестирование get и post запросов.
- Allure - фреймворк для создания отчетов о тестировании, для наглядного отоображения прохождения тестов и ошибок.
- Docker Toolbox - инструмент контейнеризации, предоставляющий всю необходимую среду для проведения тестирования без установки на рабочие машины дополнительного ПО.


### Необходимые разрешения/данные/доступы

1. Разрешение на проведение тестирования.
2. Тестовые авторизационные данные (email, номера телефонов) для тестирования (условно реальная информация).
3. API для отправки get и post запросов на сервер 
4. Доступ к СУБД для проверки, что данные уходят на сервер, обрабатываются и в базе данных содается запись о заявке.

### Возможные риски при автоматизации

1. Невозможность запуска веб-приложения и работы с ним: приложения не загружается по указанному адресу, происходит ошибка на стороне сервера (статус 500).
2. Изменения в веб-интерфейсе тестируемой страницы: меняется структура html-страницы, добавляются и/или удаляются css-правила - необходимо вносить изменения в код автотестов с использованиеv selenide.
3. Изменения в данных, приходящих с бэкенда: меняется структура таблиц базы данных (добавляются/удаляются поля в таблице, у каких-то полей может измениться тип данных), следовательно, меняется и JSON-представление пересылаемых объектов, а значит, нужно вносить изменения в автотесты, связанные с Rest Assured.

### Интервальная оценка с учётом рисков (в часах)

Необходимое время на тестирование веб-сервиса составляет 5-8 часов, с учетом рисков - 7-9 часов.

### План сдачи работ
1. Планирование - 1-2 дня
2. Реализация автотестов и работа со структурой БД по результатам документа о планировании- 7-8 дней.
3. Модификацификации, исправления, подготовка отчетов и рефакторинг по результатам замечаний - 2-3 дня